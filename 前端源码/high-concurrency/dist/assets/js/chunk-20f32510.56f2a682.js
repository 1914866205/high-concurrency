(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-20f32510"],{"0c18":function(e,t,a){},"2f18":function(e,t,a){},3175:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAACHElEQVRYR+2WP4sUQRDFXw2IG5kYy4qIfoBJhEvURDY46OpFUBBUEDE4NTAQEfyTKIiIcCaegXKZyna13MFe5iaHifcBDBTBWBY0WUWmpJc5WG9nduZmR05kJ5039X79qrumCTv80A77Ywbw7yZgjLlIRKcBHC3YJz0ROZanabfbB5IkeQXge5ZuLIFWq7W70WisA4hLbtBcAGbeC2AVwBEAmboxAGvtoqouAPisqkve+/slQf6QxXG8q9lsrqjqCQBfVJW99xtba40BMPMHAIdU9bz3/kUV8/ANM4fYT6rqtyiKjHPubVatLAANQhGpvEGZ+RmAC6mhEZE3eQupHcBa+1BVr6WGZ0VkeVKKtQIw8y0Ad4Ohql723j8pamFtAMaYq0T0OBgS0U3n3L0i86F2q4iZt70HjDHniOh5av7AOXe9jHktANZaVlWXGj4VkUtlzacGYObj4cAA2KOqL733p/LM08naF5HXo5rKLTDGxEQUzPcBWOv3+/O9Xu9XHkBeaysDMHMYLOE/8Q7AvIh8nRT93wB4D+BnFEVnOp3Op6K+1w5QZFj2dFVuwQzgv05geLyI6IpzbnG7K83Sj4zqjyJycOIgMsbcIaLbqSic73ClqvykE/AGgP0AHonI5q96WDPz0jEyZCobZ3y4MRgM5rrd7o+JCWy+TJMIs/3wNBREtJIkyar3fimrTuVr1zRQpRKoy6CoziyB3yDSCzDUmGlEAAAAAElFTkSuQmCC"},"3c93":function(e,t,a){},"98ab":function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-alert",{staticClass:"infom",attrs:{dense:"",dismissible:"",type:"success"}},[e._v(e._s(e.alertdata))])},i=[],n={props:{alertdata:String}},o=n,r=a("2877"),l=a("6544"),c=a.n(l),d=a("5530"),u=a("ade3"),p=(a("caad"),a("0c18"),a("10d2")),v=a("afdd"),h=a("9d26"),f=a("f2e7"),m=a("7560"),b=a("2b0e"),g=b["default"].extend({name:"transitionable",props:{mode:String,origin:String,transition:String}}),y=a("58df"),x=a("d9bd"),C=Object(y["a"])(p["a"],f["a"],g).extend({name:"v-alert",props:{border:{type:String,validator:function(e){return["top","right","bottom","left"].includes(e)}},closeLabel:{type:String,default:"$vuetify.close"},coloredBorder:Boolean,dense:Boolean,dismissible:Boolean,closeIcon:{type:String,default:"$cancel"},icon:{default:"",type:[Boolean,String],validator:function(e){return"string"===typeof e||!1===e}},outlined:Boolean,prominent:Boolean,text:Boolean,type:{type:String,validator:function(e){return["info","error","success","warning"].includes(e)}},value:{type:Boolean,default:!0}},computed:{__cachedBorder:function(){if(!this.border)return null;var e={staticClass:"v-alert__border",class:Object(u["a"])({},"v-alert__border--".concat(this.border),!0)};return this.coloredBorder&&(e=this.setBackgroundColor(this.computedColor,e),e.class["v-alert__border--has-color"]=!0),this.$createElement("div",e)},__cachedDismissible:function(){var e=this;if(!this.dismissible)return null;var t=this.iconColor;return this.$createElement(v["a"],{staticClass:"v-alert__dismissible",props:{color:t,icon:!0,small:!0},attrs:{"aria-label":this.$vuetify.lang.t(this.closeLabel)},on:{click:function(){return e.isActive=!1}}},[this.$createElement(h["a"],{props:{color:t}},this.closeIcon)])},__cachedIcon:function(){return this.computedIcon?this.$createElement(h["a"],{staticClass:"v-alert__icon",props:{color:this.iconColor}},this.computedIcon):null},classes:function(){var e=Object(d["a"])(Object(d["a"])({},p["a"].options.computed.classes.call(this)),{},{"v-alert--border":Boolean(this.border),"v-alert--dense":this.dense,"v-alert--outlined":this.outlined,"v-alert--prominent":this.prominent,"v-alert--text":this.text});return this.border&&(e["v-alert--border-".concat(this.border)]=!0),e},computedColor:function(){return this.color||this.type},computedIcon:function(){return!1!==this.icon&&("string"===typeof this.icon&&this.icon?this.icon:!!["error","info","success","warning"].includes(this.type)&&"$".concat(this.type))},hasColoredIcon:function(){return this.hasText||Boolean(this.border)&&this.coloredBorder},hasText:function(){return this.text||this.outlined},iconColor:function(){return this.hasColoredIcon?this.computedColor:void 0},isDark:function(){return!(!this.type||this.coloredBorder||this.outlined)||m["a"].options.computed.isDark.call(this)}},created:function(){this.$attrs.hasOwnProperty("outline")&&Object(x["a"])("outline","outlined",this)},methods:{genWrapper:function(){var e=[this.$slots.prepend||this.__cachedIcon,this.genContent(),this.__cachedBorder,this.$slots.append,this.$scopedSlots.close?this.$scopedSlots.close({toggle:this.toggle}):this.__cachedDismissible],t={staticClass:"v-alert__wrapper"};return this.$createElement("div",t,e)},genContent:function(){return this.$createElement("div",{staticClass:"v-alert__content"},this.$slots.default)},genAlert:function(){var e={staticClass:"v-alert",attrs:{role:"alert"},on:this.listeners$,class:this.classes,style:this.styles,directives:[{name:"show",value:this.isActive}]};if(!this.coloredBorder){var t=this.hasText?this.setTextColor:this.setBackgroundColor;e=t(this.computedColor,e)}return this.$createElement("div",e,[this.genWrapper()])},toggle:function(){this.isActive=!this.isActive}},render:function(e){var t=this.genAlert();return this.transition?e("transition",{props:{name:this.transition,origin:this.origin,mode:this.mode}},[t]):t}}),_=Object(r["a"])(o,s,i,!1,null,null,null);t["a"]=_.exports;c()(_,{VAlert:C})},a162:function(e,t,a){"use strict";a("2f18")},a797:function(e,t,a){"use strict";var s=a("5530"),i=(a("a9e3"),a("3c93"),a("a9ad")),n=a("7560"),o=a("f2e7"),r=a("58df");t["a"]=Object(r["a"])(i["a"],n["a"],o["a"]).extend({name:"v-overlay",props:{absolute:Boolean,color:{type:String,default:"#212121"},dark:{type:Boolean,default:!0},opacity:{type:[Number,String],default:.46},value:{default:!0},zIndex:{type:[Number,String],default:5}},computed:{__scrim:function(){var e=this.setBackgroundColor(this.color,{staticClass:"v-overlay__scrim",style:{opacity:this.computedOpacity}});return this.$createElement("div",e)},classes:function(){return Object(s["a"])({"v-overlay--absolute":this.absolute,"v-overlay--active":this.isActive},this.themeClasses)},computedOpacity:function(){return Number(this.isActive?this.opacity:0)},styles:function(){return{zIndex:this.zIndex}}},methods:{genContent:function(){return this.$createElement("div",{staticClass:"v-overlay__content"},this.$slots.default)}},render:function(e){var t=[this.__scrim];return this.isActive&&t.push(this.genContent()),e("div",{staticClass:"v-overlay",class:this.classes,style:this.styles},t)}})},afdd:function(e,t,a){"use strict";var s=a("8336");t["a"]=s["a"]},d755:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-app",[s("nav-bar"),e.isSuc?s("alert",{attrs:{alertdata:"修改成功"},on:{click:function(t){return e.cancelSubmit()}}}):e._e(),s("div",{staticClass:"message index index-border"},[s("div",{staticClass:"fengmian"}),s("div",{staticClass:"biankuang"},[s("v-hover",{scopedSlots:e._u([{key:"default",fn:function(t){var a=t.hover;return[s("v-card",{staticClass:"avatar",attrs:{"max-width":"200","max-height":"200"}},[s("img",{staticClass:"br-1",staticStyle:{height:"200px",width:"200px"},attrs:{src:e.user.avatar}}),s("v-fade-transition",[a?s("v-overlay",{attrs:{absolute:"",color:"#f5f5f5"}},[s("v-btn",{on:{click:function(t){return e.avatarClick()}}},[e._v("修改头像 "),s("input",{ref:"file",staticStyle:{display:"none"},attrs:{type:"file",id:"file",accept:"image/jpg, image/jpeg, image/png"},on:{change:function(t){return e.uploadAvatar(t)}}})])],1):e._e()],1)],1)]}}])}),s("div",{staticClass:"btn-col"},[s("v-btn",{directives:[{name:"preventReClick",rawName:"v-preventReClick"}],staticClass:"compon-btn btn-none border-no",staticStyle:{color:"white"},attrs:{disabled:!e.isUpdate,color:"teal",width:"130",height:"45"},on:{click:function(t){return e.submit()}}},[e._v("提交")])],1),s("div",{staticClass:"xinxi"},[s("span",{staticStyle:{display:"flex"}},[e.userInput?s("v-text-field",{attrs:{label:"用户名",placeholder:"请输入用户名.."},model:{value:e.user.nickname,callback:function(t){e.$set(e.user,"nickname",t)},expression:"user.nickname"}}):s("h1",[e._v(e._s(e.user.nickname))]),s("img",{staticClass:"button-hand",staticStyle:{width:"30px",height:"30px",margin:"10px"},attrs:{src:a("3175")},on:{click:function(t){return e.updateUser()}}})],1),s("span",{staticStyle:{display:"flex","margin-top":"50px"}},[s("h4",[e._v("电话")]),s("span",{staticClass:"label"},[e.phoneInput?s("span",[s("v-text-field",{attrs:{label:"电话",placeholder:"请输入电话.."},model:{value:e.validate.phone,callback:function(t){e.$set(e.validate,"phone",t)},expression:"validate.phone"}}),s("v-text-field",{attrs:{label:"验证码",placeholder:"请输入验证码.."},model:{value:e.validate.code,callback:function(t){e.$set(e.validate,"code",t)},expression:"validate.code"}}),s("span",[s("button",{staticClass:"msg-btn",on:{click:function(t){return e.sendCode()}}},[e._v(" 获取验证码 ")]),s("button",{staticClass:"msg-btn",staticStyle:{"margin-left":"10px"},on:{click:function(t){return e.verifyCode()}}},[e._v(" 验证 ")])])],1):s("span",[e._v(e._s(e.user.phone))]),s("span",{staticClass:"button-hand",staticStyle:{color:"#26a69a","margin-left":"20px"},on:{click:function(t){return e.updatePhone()}}},[e._v("更改")])])]),s("div",{staticClass:"line"}),s("span",{staticStyle:{display:"flex","margin-top":"50px"}},[s("h4",[e._v("密码")]),s("span",{staticClass:"label"},[e.codeInput?s("v-text-field",{attrs:{label:"密码",placeholder:"请输入密码.."},model:{value:e.validate.password,callback:function(t){e.$set(e.validate,"password",t)},expression:"validate.password"}}):s("span",[e._v("**********")]),s("span",{staticClass:"button-hand",staticStyle:{color:"#26a69a","margin-left":"20px"},on:{click:function(t){return e.updateCode()}}},[e._v("更改")])],1)]),s("div",{staticClass:"line"}),s("span",{staticStyle:{display:"flex","margin-top":"50px"}},[s("h4",[e._v("邮箱")]),s("span",{staticClass:"label"},[e.emailInput?s("v-text-field",{attrs:{label:"邮箱",placeholder:"请输入邮箱.."},model:{value:e.user.email,callback:function(t){e.$set(e.user,"email",t)},expression:"user.email"}}):s("span",[e._v(e._s(e.user.email))]),s("span",{staticClass:"button-hand",staticStyle:{color:"#26a69a","margin-left":"20px"},on:{click:function(t){return e.updateEmail()}}},[e._v("更改")])],1)]),s("div",{staticClass:"line"}),s("span",{staticStyle:{display:"flex","margin-top":"50px"}},[s("h4",[e._v("性别")]),s("span",{staticClass:"label"},[s("label",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.validate.sex,expression:"validate.sex"}],attrs:{type:"radio",name:"sex",value:"1"},domProps:{checked:e._q(e.validate.sex,"1")},on:{change:function(t){return e.$set(e.validate,"sex","1")}}}),e._v("男")]),s("label",{staticStyle:{"margin-left":"20px"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.validate.sex,expression:"validate.sex"}],attrs:{type:"radio",name:"sex",value:"2"},domProps:{checked:e._q(e.validate.sex,"2")},on:{change:function(t){return e.$set(e.validate,"sex","2")}}}),e._v("女")])])]),s("div",{staticClass:"line"}),s("span",{staticStyle:{display:"flex","margin-top":"50px"}},[s("h4",[e._v("余额")]),s("span",{staticClass:"label"},[e.chongInput?s("v-text-field",{attrs:{label:"金额",type:"number",placeholder:"请输入金额.."},model:{value:e.validate.money,callback:function(t){e.$set(e.validate,"money",t)},expression:"validate.money"}}):s("span",[e._v(e._s(e.validate.money))]),s("span",{staticClass:"button-hand",staticStyle:{color:"#26a69a","margin-left":"20px"},on:{click:function(t){return e.chongChange()}}},[e._v("充值")])],1)]),s("div",{staticClass:"line"}),s("span",{staticStyle:{display:"flex","margin-top":"50px"}},[s("h4",[e._v("地址")]),s("span",{staticClass:"label"},[e.addressInput?s("v-text-field",{attrs:{label:"地址",placeholder:"请输入地址.."},model:{value:e.validate.addresss,callback:function(t){e.$set(e.validate,"addresss",t)},expression:"validate.addresss"}}):s("span",[e._v(e._s(e.user.address))]),s("span",{staticClass:"button-hand",staticStyle:{color:"#26a69a","margin-left":"20px"},on:{click:function(t){return e.updateAddress()}}},[e._v("更改")])],1)]),s("div",{staticClass:"line"})])],1)])],1)},i=[],n=(a("d3b7"),a("fb6a"),a("d000")),o=a("98ab"),r=a("2b0e"),l=a("9fb0"),c={bind:function(e,t){function a(a){if(e.contains(a.target))return!1;t.expression&&t.value(a)}e.__vueClickOutside__=a,document.addEventListener("click",a)},update:function(){},unbind:function(e){document.removeEventListener("click",e.__vueClickOutside__),delete e.__vueClickOutside__}},d={name:"HomePage",data:function(){return{isUpdate:!1,userInput:!1,emailInput:!1,addressInput:!1,codeInput:!1,verFaild:!1,verSuccess:!1,updateSuccess:!1,phoneInput:!1,overlay:!1,isSuc:!1,chongInput:!1,user:[],validate:{nickname:"",sex:1,avatar:"",address:"",email:"",password:"",phone:"",code:"",money:0}}},watch:{validate:{handler:function(e,t){console.log(e,t),this.isUpdate=!0},deep:!0}},components:{NavBar:n["a"],Alert:o["a"]},created:function(){this.refreshUser()},directives:{clickoutside:c},methods:{refreshUser:function(){var e=this,t=r["default"].ls.get(l["c"]);this.axios.get(this.GLOBAL.baseUrl+"/user/getInfoById/"+t).then((function(t){console.log(t),e.user=JSON.parse(t.data.data),e.validate.sex=e.user.sex,r["default"].ls.set(l["d"],e.user)}))},updateUser:function(){this.userInput=!this.userInput},chongChange:function(){this.chongInput=!this.chongInput},updateEmail:function(){this.emailInput=!this.emailInput},updateAddress:function(){this.addressInput=!this.addressInput},updatePhone:function(){this.phoneInput=!this.phoneInput},updateCode:function(){this.codeInput=!this.codeInput},avatarClick:function(){this.$refs.file.click()},submit:function(){var e=this,t=this,a=t.user;if("男"===t.validate.sex)var s=1;else if("女"===t.validate.sex)s=2;else s=a.sex;if(""===t.validate.password)var i="123";else i=t.validate.password;if(""===t.validate.avatar)var n=a.avatar;else n=t.validate.avatar;if(""===t.validate.code)var o="";else o=t.validate.code;if(""===t.validate.address)var c=a.address;else c=t.validate.address;var d={address:c,avatar:n,code:o,email:a.email,money:this.validate.money,nickname:a.nickname,password:i,phone:a.phone,pkUserId:a.pkUserId,sex:s,username:a.username};t.axios.post(t.GLOBAL.baseUrl+"/user/edit",d).then((function(a){e.$message({message:"修改成功",type:"success"}),t.isUpdate=!1,t.refreshUser(),(n=t.validate.avatar)&&r["default"].ls.set(l["b"],n,6048e5),e.$router.go(0)}))},cancelSubmit:function(){this.isSuc=!1,this.isUpdate=!1},updateAdminInfo:function(e){console.log(e),this.validate.avatar=e,this.user.avatar=e},sendCode:function(){var e=this,t=this.validate,a=/^1[34578]\d{9}$/;a.test(this.validateForm.phone)?this.axios.post(this.GLOBAL.baseUrl+"/sendCode",{phoneNumber:t.phone}).then((function(t){e.send=!0;var a=new Promise((function(t,a){var s=setInterval((function(){e.time=e.time-1,e.time<=0&&(e.send=!1,t(s),e.time=60)}),1e3)}));a.then((function(e){clearInterval(e)}))})):this.$message({message:"手机号格式不正确",type:"warning"})},verifyCode:function(){var e=this,t=this.validate;this.axios.post(this.GLOBAL.baseUrl+"/verifyCode",{phoneNumber:t.phone,verifyCode:t.code}).then((function(t){1===t.code?e.$message({message:"验证成功",type:"success"}):(e.validate.code,e.$message({message:"验证失败",type:"warning"}))}))},uploadAvatar:function(e){var t=a("9b15"),s=new t({region:"oss-cn-beijing",accessKeyId:"LTAI4GD8r7BPa4ik89fSdFws",accessKeySecret:"H5uLKRHHYnndxuHctQjPPBJj5vRWSH",bucket:"nttbucket"}),i=Date.parse(new Date),n="img/"+i+".jpeg",o=e.target.files[0],r=this;s.multipartUpload(n,o).then((function(e){var t,a=e.res.requestUrls[0].indexOf("?");t=-1==a?e.res.requestUrls[0]:e.res.requestUrls[0].slice(0,a),r.validate.avatar=t,r.updateAdminInfo(r.validate.avatar)}))}}},u=d,p=(a("a162"),a("2877")),v=a("6544"),h=a.n(v),f=a("7496"),m=a("8336"),b=a("b0af"),g=a("0789"),y=a("16b7"),x=a("f2e7"),C=a("58df"),_=a("d9bd"),A=Object(C["a"])(y["a"],x["a"]).extend({name:"v-hover",props:{disabled:{type:Boolean,default:!1},value:{type:Boolean,default:void 0}},methods:{onMouseEnter:function(){this.runDelay("open")},onMouseLeave:function(){this.runDelay("close")}},render:function(){return this.$scopedSlots.default||void 0!==this.value?(this.$scopedSlots.default&&(e=this.$scopedSlots.default({hover:this.isActive})),Array.isArray(e)&&1===e.length&&(e=e[0]),e&&!Array.isArray(e)&&e.tag?(this.disabled||(e.data=e.data||{},this._g(e.data,{mouseenter:this.onMouseEnter,mouseleave:this.onMouseLeave})),e):(Object(_["c"])("v-hover should only contain a single element",this),e)):(Object(_["c"])("v-hover is missing a default scopedSlot or bound value",this),null);var e}}),k=a("a797"),I=a("8654"),B=Object(p["a"])(u,s,i,!1,null,"7a779b82",null);t["default"]=B.exports;h()(B,{VApp:f["a"],VBtn:m["a"],VCard:b["a"],VFadeTransition:g["c"],VHover:A,VOverlay:k["a"],VTextField:I["a"]})}}]);
//# sourceMappingURL=chunk-20f32510.56f2a682.js.map