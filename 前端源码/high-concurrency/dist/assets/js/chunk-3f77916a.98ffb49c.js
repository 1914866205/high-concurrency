(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3f77916a"],{1681:function(t,e,a){},"8adc":function(t,e,a){},"8f5a":function(t,e,a){},a844:function(t,e,a){"use strict";var i=a("5530"),o=(a("a9e3"),a("1681"),a("8654")),s=a("58df"),n=Object(s["a"])(o["a"]);e["a"]=n.extend({name:"v-textarea",props:{autoGrow:Boolean,noResize:Boolean,rowHeight:{type:[Number,String],default:24,validator:function(t){return!isNaN(parseFloat(t))}},rows:{type:[Number,String],default:5,validator:function(t){return!isNaN(parseInt(t,10))}}},computed:{classes:function(){return Object(i["a"])({"v-textarea":!0,"v-textarea--auto-grow":this.autoGrow,"v-textarea--no-resize":this.noResizeHandle},o["a"].options.computed.classes.call(this))},noResizeHandle:function(){return this.noResize||this.autoGrow}},watch:{lazyValue:function(){this.autoGrow&&this.$nextTick(this.calculateInputHeight)},rowHeight:function(){this.autoGrow&&this.$nextTick(this.calculateInputHeight)}},mounted:function(){var t=this;setTimeout((function(){t.autoGrow&&t.calculateInputHeight()}),0)},methods:{calculateInputHeight:function(){var t=this.$refs.input;if(t){t.style.height="0";var e=t.scrollHeight,a=parseInt(this.rows,10)*parseFloat(this.rowHeight);t.style.height=Math.max(a,e)+"px"}},genInput:function(){var t=o["a"].options.methods.genInput.call(this);return t.tag="textarea",delete t.data.attrs.type,t.data.attrs.rows=this.rows,t},onInput:function(t){o["a"].options.methods.onInput.call(this,t),this.autoGrow&&this.calculateInputHeight()},onKeyDown:function(t){this.isFocused&&13===t.keyCode&&t.stopPropagation(),this.$emit("keydown",t)}}})},b8bc:function(t,e,a){},ce4d:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("nav-bar"),a("alert",{directives:[{name:"show",rawName:"v-show",value:t.publishSuc,expression:"publishSuc"}],attrs:{alertdata:"商品发布成功"},on:{click:function(e){return t.cancelSuc()}}}),a("div",{staticClass:"publish index index-border"},[a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-text-field",{attrs:{counter:30,rules:t.nameRules,label:"商品名称",required:""},model:{value:t.goodsValidate.goodName,callback:function(e){t.$set(t.goodsValidate,"goodName",e)},expression:"goodsValidate.goodName"}}),a("v-textarea",{attrs:{clearable:"","clear-icon":"mdi-close-circle",label:"商品详情"},model:{value:t.goodsValidate.description,callback:function(e){t.$set(t.goodsValidate,"description",e)},expression:"goodsValidate.description"}}),a("div",{staticClass:"image-arr",style:"max-width:"+t.maxLength+"px;"},[t._l(t.goodsValidate.image,(function(e,i){return a("div",{key:i},[a("figure",{attrs:{"data-color":"#E24938, #A30F22"},on:{mouseover:t.mouseOver,mouseleave:t.mouseLeave}},[a("img",{staticStyle:{width:"150px",height:"150px"},attrs:{src:e}}),a("transition",{attrs:{name:"slideFade"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.showDel,expression:"showDel"}],staticClass:"del-icon button-hand",attrs:{transiton:"slideFade"},on:{click:function(e){return t.delImage(i)}}},[a("v-icon",[t._v("mdi-trash-can-outline")])],1)])],1)])})),a("div",{staticClass:"publish-image"},[a("v-icon",{attrs:{size:"90",color:"#f6f6f6"},on:{click:function(e){return t.imageClick()}}},[t._v("mdi-plus")]),a("input",{ref:"file",staticStyle:{display:"none"},attrs:{type:"file",id:"file",accept:"image/jpg, image/jpeg, image/png"},on:{change:function(e){return t.uploadImage(e)}}})],1)],2),a("div",{staticClass:"mt-6"}),a("span",{staticClass:"small"},[t._v("数量 :")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.goodsValidate.count,expression:"goodsValidate.count"}],staticClass:"publish-input",attrs:{type:"number"},domProps:{value:t.goodsValidate.count},on:{input:function(e){e.target.composing||t.$set(t.goodsValidate,"count",e.target.value)}}}),a("span",{staticClass:"small ml-6"},[t._v("价格 : $")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.goodsValidate.price,expression:"goodsValidate.price"}],staticClass:"publish-input",attrs:{type:"number"},domProps:{value:t.goodsValidate.price},on:{input:function(e){e.target.composing||t.$set(t.goodsValidate,"price",e.target.value)}}}),a("div",{staticClass:"mt-6 publish-tags"},[a("v-chip-group",{attrs:{mandatory:"","active-class":"primary--text"}},t._l(t.tags,(function(e){return a("v-chip",{key:e,on:{click:function(a){return t.selectTag(e)}}},[t._v(" "+t._s(e)+" ")])})),1)],1),a("div",{staticClass:"mt-100"}),a("div",{staticStyle:{"margin-left":"45%"}},[a("v-btn",{directives:[{name:"preventReClick",rawName:"v-preventReClick"}],staticClass:"compon-btn btn-none border-no",staticStyle:{color:"white"},attrs:{color:"teal",width:"130",height:"45",disabled:t.valid},on:{click:function(e){return t.publish()}}},[t._v("提交")])],1)],1)],1)],1)},o=[],s=(a("a434"),a("fb6a"),a("a4d3"),a("e01a"),a("d3b7"),a("25f0"),a("d000")),n=a("2b0e"),l=a("98ab"),c=a("b775"),r=a("9fb0"),u={data:function(){return{showDel:!1,valid:!0,maxLength:170,publishSuc:!1,nameRules:[function(t){return!!t||"商品名称不能为空"},function(t){return t&&t.length<=30||"超过最长命名"}],select:null,tags:["数码","家电","电脑","家居","服装","箱包","鞋类","钟表","珠宝","母婴","食品","生鲜","艺术","医药","图书","机票","酒店","理财","教育","众筹","维修","工业品","二手","酒类","旅游","生活","电子书","其他"],goodsValidate:{goodName:"",count:0,image:[],price:0,type:"数码",description:""}}},watch:{goodsValidate:{handler:function(t,e){console.log("currentForm",t,e),""!=t.goodName&&0!=t.image.length&&0!=t.count&&(this.valid=!1)},deep:!0}},methods:{mouseOver:function(){this.showDel=!0},mouseLeave:function(){this.showDel=!1},delImage:function(t){console.log(t),this.goodsValidate.image.splice(t,1)},imageClick:function(){this.$refs.file.click()},selectTag:function(t){console.log(t),this.goodsValidate.type=t},uploadImage:function(t){var e=a("9b15"),i=new e({region:"oss-cn-beijing",accessKeyId:"LTAI4GD8r7BPa4ik89fSdFws",accessKeySecret:"H5uLKRHHYnndxuHctQjPPBJj5vRWSH",bucket:"nttbucket"}),o=Date.parse(new Date),s="img/"+o+".jpeg",n=t.target.files[0],l=this;i.multipartUpload(s,n).then((function(t){var e,a=t.res.requestUrls[0].indexOf("?");e=-1==a?t.res.requestUrls[0]:t.res.requestUrls[0].slice(0,a),l.goodsValidate.image.push(e),console.log(t.res),console.log(l.goodsValidate.image.length),1==l.goodsValidate.image.length?l.maxLength=320:2==l.goodsValidate.image.length?l.maxLength=490:l.maxLength=630}))},publish:function(){var t=this,e={count:this.goodsValidate.count,description:this.goodsValidate.description,goodName:this.goodsValidate.goodName,image:this.goodsValidate.image.toString(),pkUserIngId:n["default"].ls.get(r["c"]),price:this.goodsValidate.price,type:this.goodsValidate.type};Object(c["b"])(e).then((function(e){t.publishSuc=!0,setTimeout(t.cancelSuc(),5e3)}))},cancelSuc:function(){this.publishSuc=!1,setTimeout(this.goIndex(),5e3)},goIndex:function(){this.$router.push("/")}},components:{NavBar:s["a"],Alert:l["a"]}},d=u,h=(a("f0e1"),a("2877")),p=a("6544"),g=a.n(p),m=a("7496"),v=a("8336"),f=a("3835"),b=a("5530"),w=(a("4de4"),a("8adc"),a("58df")),x=a("0789"),C=a("9d26"),k=a("a9ad"),y=a("4e82"),V=a("7560"),I=a("f2e7"),$=a("1c87"),j=a("af2b"),O=a("d9bd"),S=Object(w["a"])(k["a"],j["a"],$["a"],V["a"],Object(y["a"])("chipGroup"),Object(I["b"])("inputValue")).extend({name:"v-chip",props:{active:{type:Boolean,default:!0},activeClass:{type:String,default:function(){return this.chipGroup?this.chipGroup.activeClass:""}},close:Boolean,closeIcon:{type:String,default:"$delete"},closeLabel:{type:String,default:"$vuetify.close"},disabled:Boolean,draggable:Boolean,filter:Boolean,filterIcon:{type:String,default:"$complete"},label:Boolean,link:Boolean,outlined:Boolean,pill:Boolean,tag:{type:String,default:"span"},textColor:String,value:null},data:function(){return{proxyClass:"v-chip--active"}},computed:{classes:function(){return Object(b["a"])(Object(b["a"])(Object(b["a"])(Object(b["a"])({"v-chip":!0},$["a"].options.computed.classes.call(this)),{},{"v-chip--clickable":this.isClickable,"v-chip--disabled":this.disabled,"v-chip--draggable":this.draggable,"v-chip--label":this.label,"v-chip--link":this.isLink,"v-chip--no-color":!this.color,"v-chip--outlined":this.outlined,"v-chip--pill":this.pill,"v-chip--removable":this.hasClose},this.themeClasses),this.sizeableClasses),this.groupClasses)},hasClose:function(){return Boolean(this.close)},isClickable:function(){return Boolean($["a"].options.computed.isClickable.call(this)||this.chipGroup)}},created:function(){var t=this,e=[["outline","outlined"],["selected","input-value"],["value","active"],["@input","@active.sync"]];e.forEach((function(e){var a=Object(f["a"])(e,2),i=a[0],o=a[1];t.$attrs.hasOwnProperty(i)&&Object(O["a"])(i,o,t)}))},methods:{click:function(t){this.$emit("click",t),this.chipGroup&&this.toggle()},genFilter:function(){var t=[];return this.isActive&&t.push(this.$createElement(C["a"],{staticClass:"v-chip__filter",props:{left:!0}},this.filterIcon)),this.$createElement(x["b"],t)},genClose:function(){var t=this;return this.$createElement(C["a"],{staticClass:"v-chip__close",props:{right:!0,size:18},attrs:{"aria-label":this.$vuetify.lang.t(this.closeLabel)},on:{click:function(e){e.stopPropagation(),e.preventDefault(),t.$emit("click:close"),t.$emit("update:active",!1)}}},this.closeIcon)},genContent:function(){return this.$createElement("span",{staticClass:"v-chip__content"},[this.filter&&this.genFilter(),this.$slots.default,this.hasClose&&this.genClose()])}},render:function(t){var e=[this.genContent()],a=this.generateRouteLink(),i=a.tag,o=a.data;o.attrs=Object(b["a"])(Object(b["a"])({},o.attrs),{},{draggable:this.draggable?"true":void 0,tabindex:this.chipGroup&&!this.disabled?0:o.attrs.tabindex}),o.directives.push({name:"show",value:this.active}),o=this.setBackgroundColor(this.color,o);var s=this.textColor||this.outlined&&this.color;return t(i,this.setTextColor(s,o),e)}}),B=(a("8f5a"),a("7efd")),N=Object(w["a"])(B["a"],k["a"]).extend({name:"v-chip-group",provide:function(){return{chipGroup:this}},props:{column:Boolean},computed:{classes:function(){return Object(b["a"])(Object(b["a"])({},B["a"].options.computed.classes.call(this)),{},{"v-chip-group":!0,"v-chip-group--column":this.column})}},watch:{column:function(t){t&&(this.scrollOffset=0),this.$nextTick(this.onResize)}},methods:{genData:function(){return this.setTextColor(this.color,Object(b["a"])({},B["a"].options.methods.genData.call(this)))}}}),_=a("4bd4"),G=a("132d"),H=a("8654"),L=a("a844"),T=Object(h["a"])(d,i,o,!1,null,null,null);e["default"]=T.exports;g()(T,{VApp:m["a"],VBtn:v["a"],VChip:S,VChipGroup:N,VForm:_["a"],VIcon:G["a"],VTextField:H["a"],VTextarea:L["a"]})},f0e1:function(t,e,a){"use strict";a("b8bc")}}]);
//# sourceMappingURL=chunk-3f77916a.98ffb49c.js.map